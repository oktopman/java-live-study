# 10주차 과제
> 자바의 멀티쓰레드 프로그래밍에 대해 학습하세요.

## 학습할 것
- [Thread 클래스와 Runnable 인터페이스](#Thread-클래스와-Runnable-인터페이스)
- [쓰레드의 상태](#쓰레드의-상태)
- [쓰레드의 우선순위](#쓰레드의-우선순위)
- [Main 쓰레드](#Main-쓰레드)
- [동기화](#동기화)
- [데드락](#데드락)

## 프로세스와 스레드
프로세스란 운영 체제 위에서 실행중인 프로그램(현재 실행중인 프로그램)이다.  
모든 프로세스에는 최소 하나 이상의 스레드가 존재한다.  
작업 관리자를 보면 한순간에 여러가지의 작업을 하는것 처럼 보인다.  
![image](https://user-images.githubusercontent.com/55048593/105049175-bce78c00-5aaf-11eb-9004-d82e22d60420.png)

그 이유는 운영체제가 짧은 시간에 수십번에서 수천번 실행할 프로세스를 교체하면서 작업하고 있기때문에 우리는 동시에 여러개의 작업이 실행되고 있다고 느끼는 것이다.  
여러개의 프로세스들을 왔다갔다하면서 실행할때 기존 프로세스의 상태 또는 레지스터 값을 저장하고 대기하며, 다음 프로세스를 실행하는 즉 대기<->실행을 번갈아 가며 프로세스들을 실행하는 것을 `콘텍스트 스위칭` 이라고 한다.  
위키백과에는 `문맥 교환(文脈交換, context switch)이란 하나의 프로세스가 CPU를 사용 중인 상태에서 다른 프로세스가 CPU를 사용하도록 하기 위해, 이전의 프로세스의 상태(문맥)를 보관하고 새로운 프로세스의 상태를 적재하는 작업을 말한다.`라고 정의되어 있다.     
실행중인 프로세스는 코어로 로딩이 되게 되는데, 프로세스의 구조는 stack,heap,data,code 4가지가 있다. 프로세스마다 이 구조를 가지고 있기 때문에 실행되는 프로세스마다 코어에 로딩이 된다.  
그리고 `콘텍스트 스위칭` 이 일어날 때 마다 실행될 프로세스가 가지고있는 stack,heap,data,code 는 로딩 되게 된다.   
그렇기 때문에 CPU의 부담이 늘어나고, 중복된 자원들이 비효율적으로 관리 된다는 단점이 있다.

이런 이유때문에 비효율을 줄이기 위해서 스레드 라는 개념이 탄생하게 된다.  
스레드는 한 프로세스 내에서 동작되는 여러 실행의 흐름으로 프로세스 하나의 자원을 공유하면서 여러 작업을 동시에 실행 시킬 수 있는 것을 말한다.  
하나의 프로세스는 여러개의 스레드를 가질 수 있으며 이를 멀티 스레드라고 한다.  
![image](https://user-images.githubusercontent.com/55048593/105059126-4ef49200-5aba-11eb-8762-e3bbd7424faf.png)
출처 : https://devuna.tistory.com/21

멀티스레드는 code, data, heap 영역을 공유하기 때문에 `컨텍스트 스위칭` 시에 비효율적인 자원 소모가 감소하게 된다.  
멀티스레드도 컨텍스트 스위칭 비용이 발생하긴 하지만, 멀티프로세스보다 훨씬 오버헤드 시간이 적다.  

## 참고
https://www.youtube.com/watch?v=DmZnOg5Ced8  
https://devuna.tistory.com/21  
